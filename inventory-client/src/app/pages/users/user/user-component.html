<section class="bg-white p-4 rounded-lg shadow hover:shadow-md transition mb-2">
  @if(!isEditing){
  <h3 class="text-lg font-semibold text-gray-800 ">{{ user.name }}</h3>
  <p class="mt-2 text-sm">
    Estado: {{ user.status == 'active' ? 'Activo' : 'Inactivo'}}
  </p>
  <div class="mt-2">
    <button
      class="bg-blue-400 hover:bg-blue-300 text-white font-bold py-1 px-1 border-b-4 border-blue-600 hover:border-blue-500 rounded"
      (click)="toggleEdit()">
      Editar
    </button>
    <button
      class="ml-2 bg-blue-400 hover:bg-blue-300 text-white font-bold py-1 px-1 border-b-4 border-blue-600 hover:border-blue-500 rounded">
      Borrar
    </button>
  </div>
  } @else {
  <div>
    <input class="border px-3 py-1 rounded w-full mb-2" [(ngModel)]="editedUser.name"
      placeholder="Nombre del usuario" />
    <select class="border px-3 py-1 rounded w-full mb-2" [(ngModel)]="editedUser.status">
      <option value="active">Activa</option>
      <option value="inactive">Inactiva</option>
    </select>

    <div class="flex flex-col">
      @if(enablenewPassword){
      <input class="border px-3 py-1 rounded w-full mb-2" placeholder="Nueva contraseña" [(ngModel)]="newpassword"
        type="password" />
      }
      <button class="text-xs bg-blue-400 hover:bg-blue-300 text-white font-bold py-1 px-1 border-b-4 border-blue-600 hover:border-blue-500 rounded"
        (click)="enable()">
        {{ enablenewPassword ? 'Cancelar' : 'Cambiar contraseña'  }}
      </button>
    </div>


    <label for="role">Tipo de usuario</label>
    <select #role class="border px-3 py-1 rounded w-full mb-2" [(ngModel)]="editedUser.role">
      <option value="admin">Administrador</option>
      <option value="basic">Básico</option>
    </select>

    <div class="flex gap-2">
      <button class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600" (click)="saveChanges()">
        Guardar
      </button>
      <button class="px-3 py-1 bg-gray-400 text-white rounded hover:bg-gray-500" (click)="cancelEdit()">
        Cancelar
      </button>
    </div>
  </div>
  }
</section>